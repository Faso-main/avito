# Скрипт автоматизации рассылки сообщений на Avito

Этот скрипт предназначен для автоматизации рассылки сообщений продавцам на платформе Avito с использованием Playwright.

## Возможности

- Автоматический сбор ссылок на объявления
- Умная прокрутка страниц и переход между страницами поиска
- Фильтрация объявлений по количеству просмотров
- Система синонимов для создания уникальных сообщений
- Отслеживание уже обработанных продавцов
- Сохранение прогресса работы

## Требования

- Python 3.7+
- Playwright
- Firefox
- Доступ к интернету
- Аккаунт на Avito

## Установка

Откройте терминал на вашем ПК

1. Установите Python 3.7 или выше
2. Установите зависимости:
```bash
pip install playwright
playwright install
```

## Файлы проекта

- `avito_playwright.py` - основной скрипт
- `ads_links.txt` - файл со ссылками на объявления
- `seller_ids.txt` - файл с ID обработанных продавцов
- `current_link.txt` - файл с текущей обрабатываемой ссылкой

## Использование

1. Запустите скрипт:
```bash
python avito_playwright.py
```

2. Следуйте инструкциям в консоли:
   - Выберите, нужно ли очистить существующие файлы
   - Введите URL для сбора ссылок
   - Укажите максимальное количество ссылок для сбора
   - Настройте параметры рассылки:
     - Количество сообщений
     - Минимальное число просмотров
     - Словарь синонимов
     - Текст сообщения
   - После того как откроется браузер Firefox войдите в свой аккаунт авито (скрипт будет ожидать входа 10 минут)

## Функции безопасности

- Случайные задержки между действиями
- Проверка на блокировку
- Сохранение прогресса
- Исключение повторных отправок одному продавцу

## Внезапное закрытие

В случае ошибок скрипт действует следующим образом:
При внезапном закрытии браузера или сбое - сохраняет прогресс в файлах:

- current_link.txt - запоминает последнюю обработанную ссылку
- seller_ids.txt - сохраняет ID продавцов, которым уже отправлены сообщения
- ads_links.txt - сохраняет собранные ссылки

При следующем запуске скрипт:
Подгрузит сохраненные данные
Продолжит работу с места остановки
Не будет повторно отправлять сообщения тем же продавцам. Если необходимо начать все заново, то при запуске в консоли указываете очистку всех файлов.

## Важно

- Используйте скрипт с осторожностью и соблюдайте правила платформы Avito
- Рекомендуется использовать умеренные настройки для избежания блокировок
- Не рекомендуется использовать агрессивные настройки рассылки

## Ограничения ответственности

Скрипт предоставляется "как есть", без каких-либо гарантий. Автор не несёт ответственности за ваши действия и возможные последствия использования скрипта. 
